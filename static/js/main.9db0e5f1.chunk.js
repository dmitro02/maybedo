(this.webpackJsonpmaybedo=this.webpackJsonpmaybedo||[]).push([[0],{120:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},137:function(e,t){},139:function(e,t){},150:function(e,t){},152:function(e,t){},179:function(e,t){},181:function(e,t){},182:function(e,t){},187:function(e,t){},189:function(e,t){},208:function(e,t){},220:function(e,t){},223:function(e,t){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var r,i=n(1),c=n(2),o=n.n(c),a=n(42),s=n.n(a),u=(n(127),n(6)),l=(n(128),n(129),function(e){var t=e.isDisplayed,n=void 0!==t&&t;return Object(i.jsx)("div",{className:"fog",style:{display:n?"block":"none"}})}),d=(n(130),function(e){return Object(i.jsx)("div",{className:"spinner ".concat(e.customClass||"")})}),f=(n(131),n(14)),b="metadata",j="selectedProjectId",h="settings",v="tokens",p=function(e){return!!localStorage.getItem(e)},x=function(e){return JSON.parse(localStorage.getItem(e)||"{}")},m=function(e,t){localStorage.setItem(e,JSON.stringify(t))},O=function(e){localStorage.setItem(j,e)},k=function(){return x(h)},g=function(){return k().syncTarget},y=function(e){m(h,Object(f.a)(Object(f.a)({},k()),{},{syncTarget:e}))},w=function(){return x(v)},C=function(e){m(v,Object(f.a)(Object(f.a)({},w()),{},{dropboxAccessToken:e}))},N=n(11),S=function(e){return new Promise((function(t,n){var r=new FileReader;r.onerror=n,r.onload=function(){return t(r.result)},r.readAsText(e)}))},T=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="";t.length<e;)t+=Math.floor(1e10*Math.random()).toString();return t.substring(0,e)};!function(e){e[e.Trivial=0]="Trivial",e[e.Minor=1]="Minor",e[e.Normal=2]="Normal",e[e.Major=3]="Major",e[e.Critical=4]="Critical"}(r||(r={}));var I,D=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(N.a)(this,e),this.text=void 0,this.isDone=void 0,this.priority=void 0,this.id=void 0,this.updatedAt=void 0,this.parentId=void 0,this.subTasks=void 0;var n=t.id,i=void 0===n?T():n,c=t.text,o=void 0===c?"":c,a=t.isDone,s=void 0!==a&&a,u=t.priority,l=void 0===u?r.Trivial:u,d=t.updatedAt,f=void 0===d?Date.now():d,b=t.parentId,j=void 0===b?null:b;this.id=i,this.text=o,this.isDone=s,this.priority=l,this.updatedAt=f,this.parentId=j},P=n(20),E="0",L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(N.a)(this,e),this.taskList=void 0,this.created=[],this.deleted=[],this.updated=[],this.taskList=t}return Object(P.a)(e,[{key:"addToTaskList",value:function(e){var t=e.id,n=e.parentId,r=e.updatedAt;this.taskList[t]={p:n,u:r}}},{key:"removeFromTaskList",value:function(e){delete this.taskList[e]}},{key:"addToCreated",value:function(e){this.created.push(e)}},{key:"removeFromCreated",value:function(e){this.created.includes(e)&&(this.created=this.created.filter((function(t){return t!==e})))}},{key:"addToDeleted",value:function(e){this.deleted.push(e)}},{key:"addToUpdated",value:function(e){this.updated.push(e)}},{key:"registerCreated",value:function(e){this.addToTaskList(e),this.addToCreated(e.id),this.save()}},{key:"registerUpdated",value:function(e){this.addToTaskList(e),this.save()}},{key:"registerDeleted",value:function(e){this.removeFromTaskList(e),this.created.includes(e)?this.removeFromCreated(e):this.addToDeleted(e),this.save()}},{key:"getChildrenIds",value:function(e){var t=this;return this.getAllTaskIds().reduce((function(n,r){return t.taskList[r].p===e&&n.push(r),n}),[])}},{key:"hasChildren",value:function(e){return Object.values(this.taskList).some((function(t){return t.p===e}))}},{key:"isProject",value:function(e){var t=this.taskList[e];return t&&t.p===E}},{key:"isRoot",value:function(e){return e===E}},{key:"getAllTaskIds",value:function(){return Object.keys(this.taskList)}},{key:"save",value:function(){!function(e){m(b,e)}({taskList:this.taskList,created:this.created,deleted:this.deleted})}},{key:"restore",value:function(){var e=x(b);this.taskList=e.taskList,this.created=e.created,this.deleted=e.deleted}},{key:"reset",value:function(){this.created=[],this.deleted=[],this.updated=[],this.save()}},{key:"init",value:function(){p(b)?this.restore():this.save()}}]),e}(),F=new L,M=function(){return p(E)},R=function(e){return x(e)},A=function(e){return e.reduce((function(e,t){return e.push(R(t)),e}),[])},_=function(e){var t=F.getChildrenIds(e);return A(t)},z=function(){var e=R(E);return function e(t){t.subTasks=_(t.id),t.subTasks.forEach((function(t){return e(t)}))}(e),e},B=function(e){e.updatedAt=Date.now(),m(e.id,e),F.registerUpdated(e)},U=function(e){e.updatedAt||(e.updatedAt=Date.now()),m(e.id,e),F.registerCreated(e)},J=function(e){e.forEach((function(e){return U(e)}))},W=function e(t){var n;F.isProject(t)&&ue.selectedProjectId===t&&(ue.selectedProjectId="",O("")),n=t,localStorage.removeItem(n),F.registerDeleted(t),F.getChildrenIds(t).forEach((function(t){return e(t)}))},H=n(3),V=n.n(H),G=n(7),K=n(44),q=n(121),X=n(68),$=n.n(X),Q="https://api.dropbox.com/oauth2/token",Y=function(){function e(t){Object(N.a)(this,e),this.clientId=void 0,this.codeVerifier=void 0,this.dropbox=void 0,this.clientId=t,this.codeVerifier=T(43),this.initDropbox()}return Object(P.a)(e,[{key:"check",value:function(){var e=Object(G.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateConfiguration(),e.next=3,this.dropbox.checkUser({query:"maybedo"});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authorize",value:function(){var e=Object(G.a)(V.a.mark((function e(){var t,n,r,i,c,o=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=new URLSearchParams({code:t,grant_type:"authorization_code",client_id:this.clientId,code_verifier:this.codeVerifier}),e.next=4,$()(Q,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});case 4:return r=e.sent,e.next=7,r.json();case 7:if(i=e.sent,r.ok){e.next=10;break}throw new Error(i.error_description);case 10:c=i.access_token,C(c),this.initDropbox(c);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listFolder",value:function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||"",this.validateConfiguration(),e.next=4,this.dropbox.filesListFolder({path:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadFile",value:function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateConfiguration(),e.next=3,this.dropbox.filesDownload({path:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFile",value:function(){var e=Object(G.a)(V.a.mark((function e(t,n){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateConfiguration(),e.next=3,this.dropbox.filesUpload({contents:t,path:n,mode:{".tag":"overwrite"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteFile",value:function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateConfiguration(),e.next=3,this.dropbox.filesDeleteV2({path:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initDropbox",value:function(e){var t=e||w().dropboxAccessToken;this.dropbox=t?new q.Dropbox({accessToken:t,fetch:$.a}):null}},{key:"validateConfiguration",value:function(){if(!this.dropbox)throw new Error("not_configured")}},{key:"authUrl",get:function(){return"".concat("https://www.dropbox.com/oauth2/authorize","?client_id=").concat(this.clientId,"&response_type=code&code_challenge_method=plain&code_challenge=").concat(this.codeVerifier)}},{key:"isConfigured",get:function(){return!!this.dropbox}}]),e}(),Z="/data",ee="/metadata.json",te=function(){function e(){Object(N.a)(this,e),this.dropboxClient=void 0,this.syncTarget=I.Dropbox,this.dropboxClient=new Y("lxn28fv9hhsn7id")}return Object(P.a)(e,[{key:"authorize",value:function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dropboxClient.authorize(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"check",value:function(){var e=Object(G.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dropboxClient.check();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadItems",value:function(){var e=Object(G.a)(V.a.mark((function e(t){var n,r,i,c,o,a,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=Object(K.a)(t),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=23;break}return c=i.value,o="".concat(Z,"/").concat(c,".json"),e.prev=7,e.next=10,this.dropboxClient.deleteFile(o);case 10:return a=e.sent,e.next=13,S(a.result.fileBlob);case 13:s=e.sent,n.push(JSON.parse(s)),e.next=21;break;case 17:if(e.prev=17,e.t0=e.catch(7),this.isFileNotFound(e.t0)){e.next=21;break}throw e.t0;case 21:e.next=4;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(2),r.e(e.t1);case 28:return e.prev=28,r.f(),e.finish(28);case 31:return e.abrupt("return",n);case 32:case"end":return e.stop()}}),e,this,[[2,25,28,31],[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadItems",value:function(){var e=Object(G.a)(V.a.mark((function e(t){var n,r,i,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(K.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=10;break}return i=r.value,c="".concat(Z,"/").concat(i[1],".json"),e.next=8,this.dropboxClient.uploadFile(i[0],c);case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteItems",value:function(){var e=Object(G.a)(V.a.mark((function e(t){var n,r,i,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(K.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=17;break}return i=r.value,c="".concat(Z,"/").concat(i,".json"),e.prev=6,e.next=9,this.dropboxClient.deleteFile(c);case 9:e.next=15;break;case 11:if(e.prev=11,e.t0=e.catch(6),this.isFileNotFound(e.t0)){e.next=15;break}throw e.t0;case 15:e.next=3;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(1),n.e(e.t1);case 22:return e.prev=22,n.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[1,19,22,25],[6,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadMetadata",value:function(){var e=Object(G.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.dropboxClient.downloadFile(ee);case 3:return t=e.sent,e.next=6,S(t.result.fileBlob);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return","");case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"uploadMetadata",value:function(){var e=Object(G.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dropboxClient.uploadFile(t,ee);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isFileNotFound",value:function(e){return JSON.parse(e.error).error_summary.includes("path_lookup/not_found")}},{key:"authUrl",get:function(){return this.dropboxClient.authUrl}},{key:"isConfigured",get:function(){return this.dropboxClient.isConfigured}}]),e}();!function(e){e.Dropbox="DROPBOX",e.Disabled="DISABLED"}(I||(I={}));var ne,re=new(function(){function e(){var t=this;Object(N.a)(this,e),this.cloudConnector=null,this.isSyncFaild=!1,this.interval=null,this.processChanges=function(e,t){var n=e.taskList,r=t.taskList;if(!Object.keys(r).length)return e.created=Object.keys(n),void(e.deleted=[]);e.created.forEach((function(e){r[e]=n[e]})),e.deleted.forEach((function(e){t.removeFromTaskList(e)})),Object.keys(n).forEach((function(i){if(r.hasOwnProperty(i)){var c=r[i].u,o=n[i].u;c>o?t.addToUpdated(i):c<o&&e.addToUpdated(i)}else t.addToDeleted(i)})),Object.keys(r).forEach((function(e){n.hasOwnProperty(e)||t.addToCreated(e)}))},this.syncChanges=function(){var e=Object(G.a)(V.a.mark((function e(n,r){var i,c,o,a,s,u,l,d,f,b,j;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.processChanges(n,r),a=r.created.concat(r.updated),s=n.created.concat(n.updated),u=r.deleted,l=n.deleted,d=s.length||l.length,f=a.length||u.length,e.next=9,null===(i=t.cloudConnector)||void 0===i?void 0:i.downloadItems(a);case 9:return null===(b=e.sent)||void 0===b||b.forEach((function(e){return U(e)})),j=s.map((function(e){return[localStorage.getItem(e)||"",e]})),e.next=14,null===(c=t.cloudConnector)||void 0===c?void 0:c.uploadItems(j);case 14:return e.next=16,null===(o=t.cloudConnector)||void 0===o?void 0:o.deleteItems(l);case 16:u.forEach((function(e){return W(e)})),n.reset(),n.save(),f&&je(),d&&t.uploadRemoteMeta(F);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}return Object(P.a)(e,[{key:"init",value:function(){var e=Object(G.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t?(this.cloudConnector=t,y(t.syncTarget)):(n=g())===I.Disabled?this.cloudConnector=null:this.cloudConnector=this.createCloudConnector(n),clearInterval(this.interval),!this.cloudConnector){e.next=8;break}return e.next=5,this.check();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=!1;case 9:if(!e.t0){e.next=14;break}return e.next=13,this.sync();case 13:this.interval=setInterval(this.sync.bind(this),6e5);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sync",value:function(){var e=Object(G.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue.syncStatus!==ne.InProgress){e.next=2;break}return e.abrupt("return");case 2:return this.isSyncFaild=!1,ue.syncStatus=ne.InProgress,e.prev=4,e.next=7,this.fetchRemoteMeta();case 7:return t=e.sent,e.next=10,this.syncChanges(F,t);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0),this.isSyncFaild=!0;case 16:ue.syncStatus=this.isSyncFaild?ne.Failure:ne.Idle;case 17:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"check",value:function(){var e=Object(G.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.cloudConnector.check();case 3:e.next=14;break;case 5:if(e.prev=5,e.t0=e.catch(0),!e.t0.message.toLowerCase().includes("not_configured")){e.next=12;break}return ue.syncStatus=ne.NotConfigured,e.abrupt("return",!1);case 12:return ue.syncStatus=ne.Failure,e.abrupt("return",!0);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"createCloudConnector",value:function(e){switch(e){case I.Dropbox:return new te;default:return null}}},{key:"fetchRemoteMeta",value:function(){var e=Object(G.a)(V.a.mark((function e(){var t,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.cloudConnector)||void 0===t?void 0:t.downloadMetadata();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0="{}";case 5:return n=e.t0,r=JSON.parse(n),e.abrupt("return",new L(r));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadRemoteMeta",value:function(e){var t,n=JSON.stringify(e.taskList);null===(t=this.cloudConnector)||void 0===t||t.uploadMetadata(n)}}]),e}()),ie=(n(227),n(8));!function(e){e.NotConfigured="NOT_CONFIGURED",e.Idle="IDLE",e.InProgress="IN_PROGRESS",e.Failure="FAILURE"}(ne||(ne={}));var ce=function(){var e=fe("syncStatus"),t=Object(u.a)(e,1)[0],n=function(){return re.sync()},r="material-icons-outlined common-btn",c=r+" no-hover";return Object(i.jsx)("div",{className:"sync-status",children:function(e){switch(e){case ne.NotConfigured:return Object(i.jsx)(ie.k,{className:c,title:"cloud sync disabled"});case ne.Idle:return Object(i.jsx)(ie.j,{className:r,onClick:n,title:"synchronize"});case ne.InProgress:return Object(i.jsx)(ie.j,{className:"material-icons-outlined common-btn no-hover syncing",onClick:n,title:"synchronizing"});case ne.Failure:return Object(i.jsx)(ie.l,{className:"material-icons-outlined common-btn failure",onClick:n,title:"sync failed"});default:return Object(i.jsx)(ie.k,{className:c,title:"cloud sync disabled"})}}(t)})};F.init(),function(){if(!M()){U(new D({id:"0",text:"Projects"}))}}();var oe,ae=function(){var e;return localStorage.getItem(j)||(null===(e=function(){var e=F.getChildrenIds(E);return A(e)}()[0])||void 0===e?void 0:e.id)||""},se=function(e){var t=new Map,n=function(e,n){var r;null===(r=t.get(e))||void 0===r||r.forEach((function(e){return e(n)}))},r=new Proxy(e,{set:function(e,t,r){return e[t]=r,n(t,r),!0},get:function(e,t){return e[t]}}),i=function(e,n){Object(c.useEffect)((function(){return function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])}(e,n),function(){return function(e,n){var r=t.get(e);if(r){var i=r.filter((function(e){return e!==n}));t.set(e,i)}}(e,n)}}),[n,e])},o=function(e,t){return i(e,t),function(t){return n(e,t)}},a=function(e,t){return i(e,t),function(t){return r[e]=t}};return{store:r,notify:n,useSubscribe:i,useEvent:o,useProperty:a,usePropertyWithState:function(e,t){var n=Object(c.useState)(r[e]),i=Object(u.a)(n,2),o=i[0],s=i[1];return a(e,(function(e){t&&t(e),s(e)})),[o,function(t){return r[e]=t}]},useReload:function(e){var t=Object(c.useState)({}),n=Object(u.a)(t,2)[1];o("reload",(function(){e&&e(),n({})}))},reload:function(){return n("reload")}}}({selectedProjectId:ae(),showLoading:!1,banner:null,syncStatus:ne.NotConfigured}),ue=se.store,le=se.notify,de=se.useEvent,fe=se.usePropertyWithState,be=se.useReload,je=se.reload;!function(e){e[e.SetTitleByProject=0]="SetTitleByProject",e[e.SetProjectByTitle=1]="SetProjectByTitle",e[e.DeleteCompleted=2]="DeleteCompleted"}(oe||(oe={}));var he,ve=function(e){var t=e.spinnerClass,n=fe("showLoading");return Object(u.a)(n,1)[0]?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{isDisplayed:!0}),Object(i.jsx)("div",{className:"loading",children:Object(i.jsx)(d,{customClass:t})})]}):null},pe=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(c.useEffect)((function(){if(n){var r=function(n){e.current&&!e.current.contains(n.target)&&t()};return document.addEventListener("mousedown",r),function(){return document.removeEventListener("mousedown",r)}}}),[t,n,e])},xe=n(43),me=n(28),Oe=(n(120),function(e){var t=e.add;return Object(i.jsxs)("div",{className:"record add-record",children:[Object(i.jsx)("div",{className:"row-btns",children:Object(i.jsx)(ie.a,{})}),Object(i.jsx)("div",{className:"item-content",contentEditable:"true",suppressContentEditableWarning:!0,onInput:function(e){var n=e.target.textContent.trim();if(n){var r=new D({text:n});t(r),e.target.textContent=""}},onKeyPress:ke})]})}),ke=function(e){!e.target.textContent.trim()&&"Enter"===e.key&&e.preventDefault()},ge=Object(c.memo)(Oe),ye=(n(67),function(e){var t=e.actionOnClick,n=e.isChecked,r=void 0!==n&&n,c=e.priority,o=["common-btn","checkmark-btn",r?"prio-0":"prio-"+c].join(" ");return Object(i.jsx)(i.Fragment,{children:r?Object(i.jsx)(ie.c,{className:o,onClick:t}):Object(i.jsx)(ie.d,{className:o,onClick:t})})}),we=n(18),Ce=function(e){var t=e.task,n=e.isBulk,r=void 0!==n&&n,o=e.isDisabled,a=void 0!==o&&o,s=e.closeMenu,l=void 0===s?function(){}:s,d=e.remove,f=Object(c.useState)(!1),b=Object(u.a)(f,2),j=b[0],h=b[1],v=function(e){e&&e.stopPropagation(),h(!1)},p=Object(c.useRef)(null);pe(p,v,j);var x={icon:Object(i.jsx)(we.a,{}),text:"Delete",tooltip:"Delete task",deleteAction:function(e){e.stopPropagation(),h(!1),d(t)}},m={icon:Object(i.jsx)(we.b,{}),text:"Clear",tooltip:"Delete completed subtasks",deleteAction:function(e){e.stopPropagation(),h(!1),le(oe.DeleteCompleted+t.id),l()}},O=r?m:x,k=O.icon,g=O.text,y=O.tooltip,w=O.deleteAction,C=["record-menu-row"];return a&&C.push("disabled"),Object(i.jsx)(i.Fragment,{children:j?Object(i.jsxs)("div",{className:"record-menu-row",ref:p,children:[Object(i.jsx)("div",{className:"inline-menu-btn",children:Object(i.jsx)(ie.b,{onClick:w})}),Object(i.jsx)("div",{className:"inline-menu-btn",children:Object(i.jsx)(ie.e,{onClick:v})})]}):Object(i.jsxs)("div",{onClick:function(e){e&&e.stopPropagation(),h(!0)},title:y,className:C.join(" "),children:[k,Object(i.jsx)("div",{className:"menu-item-text",children:g})]})})},Ne=new Map([[r.Trivial,"Trivial"],[r.Minor,"Minor"],[r.Normal,"Normal"],[r.Major,"Major"],[r.Critical,"Critical"],[void 0,"Trivial"]]),Se=function(e){var t=e.task,n=e.closeMenu,o=e.update,a=Object(c.useState)(!1),s=Object(u.a)(a,2),l=s[0],d=s[1],f=Object(c.useRef)(null);pe(f,(function(){return d(!1)}),l);return Object(i.jsx)(i.Fragment,{children:l?Object(i.jsxs)("div",{className:"record-menu-row priority-switch",onClick:function(e){e.stopPropagation();var r=e.target,i=parseInt(r.textContent);i!==t.priority&&(t.priority=i,o(t)),n()},ref:f,children:[Object(i.jsx)("div",{className:"inline-menu-btn",children:Object(i.jsx)("div",{children:r.Trivial})}),Object(i.jsx)("div",{className:"inline-menu-btn",children:Object(i.jsx)("div",{children:r.Minor})}),Object(i.jsx)("div",{className:"inline-menu-btn",children:Object(i.jsx)("div",{children:r.Normal})}),Object(i.jsx)("div",{className:"inline-menu-btn",children:Object(i.jsx)("div",{children:r.Major})}),Object(i.jsx)("div",{className:"inline-menu-btn",children:Object(i.jsx)("div",{children:r.Critical})})]}):Object(i.jsxs)("div",{className:"record-menu-row",onClick:function(e){e.stopPropagation(),d(!0)},title:"Set task priotity",children:[Object(i.jsx)(we.d,{className:"menu-item-icon"}),Object(i.jsx)("div",{className:"menu-item-text",children:Ne.get(t.priority)})]})})},Te=(n(228),function(e){var t=e.closeMenu,n=e.showSubtasks,r=e.isDisabled,c=["record-menu-row",void 0!==r&&r?"disabled":""].join(" ");return Object(i.jsxs)("div",{className:c,title:"Add subtask",onClick:function(){t(),n()},children:[Object(i.jsx)(we.c,{className:"menu-item-icon"}),Object(i.jsx)("div",{className:"menu-item-text",children:"Add"})]})}),Ie=function(e){var t,n=e.task,r=e.classes,o=void 0===r?[]:r,a=e.showSubtasks,s=e.update,l=e.remove,d=e.isProject,f=e.isRoot,b=Object(c.useState)(!1),j=Object(u.a)(b,2),h=j[0],v=j[1],p=function(){return v(!1)},x=Object(c.useRef)(null);pe(x,p,h);return Object(i.jsxs)("div",{className:"record-menu-box "+o.join(" "),children:[Object(i.jsx)(ie.i,{className:"common-btn",onClick:function(e){e.stopPropagation(),v(!0)}}),h&&Object(i.jsxs)("div",{className:"record-menu",ref:x,onMouseLeave:function(){t=setTimeout(p,500)},onMouseEnter:function(){clearTimeout(t)},children:[!n.isDone&&!f&&Object(i.jsx)(Se,{task:n,closeMenu:p,update:s}),!d&&!n.isDone&&!f&&Object(i.jsx)(Te,{closeMenu:p,showSubtasks:a,isDisabled:!1}),Object(i.jsx)(Ce,{task:n,isBulk:!0,isDisabled:!1,closeMenu:p,remove:l}),!f&&Object(i.jsx)(Ce,{task:n,remove:l})]})]})},De=function(e){var t;return function(n){var r=n.target.innerHTML;clearTimeout(t),t=setTimeout((function(){return e(r)}),700)}},Pe=function(e,t){if(e){var n=document.createRange(),r=window.getSelection(),i=e.childNodes[0];if(i&&i.textContent){var c=i.textContent.length,o=void 0!==t?Math.min(t,c):c;n.setStart(i,o),n.collapse(),null===r||void 0===r||r.removeAllRanges(),null===r||void 0===r||r.addRange(n)}}},Ee=function(e){var t=e.text,n=e.isEditable,r=e.update,o=e.getFocus,a=void 0!==o&&o,s=e.isSingleLine,u=void 0!==s&&s,l=e.classes,d=void 0===l?[]:l,f=Object(c.useRef)(null);Object(c.useEffect)((function(){f.current&&(f.current.innerHTML=t)})),Object(c.useEffect)((function(){var e;a&&(b(!0),null===(e=f.current)||void 0===e||e.focus(),Pe(f.current,t.length))}),[]);var b=function(e){var t=f.current;null===t||void 0===t||t.setAttribute("contenteditable",""+e)},j=De(r),h=[].concat(Object(me.a)(d),[n?"":"read-only"]).join(" ");return Object(i.jsx)("div",{ref:f,className:h,contentEditable:n,suppressContentEditableWarning:!0,onInput:j,onBlur:function(){return!n&&b(!1)},onKeyPress:function(e){u&&"Enter"===e.key&&e.preventDefault()}})},Le=function(e){var t=e.isEditable,n=void 0===t||t,r=e.isSelected,o=void 0!==r&&r,a=e.isFocused,s=void 0!==a&&a,l=e.item,d=e.update,b=void 0===d?function(){}:d,j=e.remove,h=void 0===j?function(){}:j,v=e.item,p=v.id,x=v.isDone,m=v.priority,O=F.hasChildren(p),k=F.isProject(p),g=F.isRoot(p),y=Object(c.useState)(!1),w=Object(u.a)(y,2),C=w[0],N=w[1],S=Object(c.useState)(l.text),T=Object(u.a)(S,2),I=T[0],D=T[1];Object(c.useEffect)((function(){return D(l.text)}),[l.text]);de(oe.SetProjectByTitle+p,(function(e){B(Object(f.a)(Object(f.a)({},l),{},{text:e})),D(e)}));var P=function(e){return le(oe.SetTitleByProject+p,e)},E=["record",o?"record-selected":"",n?"":"read-only",k?"project":"",x?"item-done":""].join(" "),L=window.iAmRunningOnMobile?"":"hidden-btn",M=function(){N(!0)},R=function(){N(!1)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:E,onClick:function(){k&&!g&&(ue.selectedProjectId=p)},children:[Object(i.jsx)("div",{className:"row-btns",children:Object(i.jsx)(ye,{actionOnClick:function(e){e.stopPropagation(),0===e.button&&(l.isDone=!l.isDone,b(l))},isChecked:x,priority:m})}),Object(i.jsx)(Ee,{text:I,update:function(e){B(Object(f.a)(Object(f.a)({},l),{},{text:e})),k&&P(e)},isEditable:n,getFocus:s,classes:["item-content"]}),Object(i.jsxs)("div",{className:"row-btns",children:[function(){var e="common-btn subtasks-btn";return O&&!C?Object(i.jsx)(ie.g,{onClick:M,className:e}):C?Object(i.jsx)(ie.f,{onClick:R,className:e}):null}(),Object(i.jsx)(Ie,{task:l,showSubtasks:M,classes:[L],isProject:k,isRoot:g,update:b,remove:h})]})]}),C&&Object(i.jsx)(Re,{classNames:["subtasks-list"],rootId:p})]})},Fe=Object(c.memo)(Le),Me=(n(229),function(e){var t=e.isEditable,n=void 0===t||t,r=e.item,o=r.text,a=r.id,s=Object(c.useState)(""),l=Object(u.a)(s,2),d=l[0],f=l[1];Object(c.useEffect)((function(){f(o)}),[o]),de(oe.SetTitleByProject+a,f);return Object(i.jsx)(Ee,{text:d,update:function(e){le(oe.SetProjectByTitle+a,e)},isEditable:n,isSingleLine:!0,classes:["title"]})}),Re=function(e){var t=e.classNames,n=void 0===t?[]:t,o=e.rootId,a=e.hasTitle,s=void 0!==a&&a,l=e.isEditable,d=void 0===l||l,f=e.projectId,b=Object(c.useState)(new D),j=Object(u.a)(b,2),h=j[0],v=j[1],p=Object(c.useState)([]),x=Object(u.a)(p,2),m=x[0],O=x[1],k=function(){var e=R(o);v(e);var t=_(o);O(t)},g=Object(c.useRef)();be(k),Object(c.useEffect)(k,[o]),Object(c.useEffect)((function(){g.current=""}),[o]);var y=F.isRoot(o),w=Object(c.useCallback)((function(e){e.parentId=h.id,U(e),g.current=e.id;var t=m.concat(e);O(t),y&&(ue.selectedProjectId=e.id)}),[y,h.id,m]),C=Object(c.useCallback)((function(e){var t=m.map((function(t){return t.id===e.id?e:t}));O(t),B(e)}),[m]),N=Object(c.useCallback)((function(e){var t=ue.selectedProjectId===e.id,n=m.filter((function(t){return t!==e}));O(n),W(e.id),t&&(ue.selectedProjectId="")}),[m]),S=Object(c.useCallback)((function(){var e=m.filter((function(e){return e.isDone})).map((function(e){return e.id})),t=e.some((function(e){return ue.selectedProjectId===e})),n=m.filter((function(e){return!e.isDone}));O(n),e.forEach((function(e){return W(e)})),t&&(ue.selectedProjectId="")}),[m]);de(oe.DeleteCompleted+o,S);m.sort((function(e,t){var n=e.priority||r.Trivial,i=t.priority||r.Trivial;return n>i?-1:n<i?1:0}));var T=m.filter((function(e){return!e.isDone})),I=m.filter((function(e){return e.isDone})),P=Object(c.useRef)(null),E=[y?"project-list":"task-list"].concat(Object(me.a)(n)).join(" ");return Object(i.jsxs)("div",{className:E,children:[s&&Object(i.jsx)(Me,{item:h,isEditable:d}),Object(i.jsx)("div",{className:"active-tasks",ref:P,children:T.map((function(e){return Object(i.jsx)(Fe,{item:e,isEditable:d,isSelected:f===e.id,update:C,remove:N,isFocused:g.current===e.id},e.id)}))}),Object(i.jsx)(ge,{add:w}),!!I.length&&Object(i.jsx)("div",{className:"completed-tasks",children:I.map((function(e){return Object(i.jsx)(Fe,{item:e,isEditable:d,isSelected:f===e.id,update:C,remove:N},e.id)}))})]})},Ae=function(e){var t=e.isOpened,n=e.close,r=e.isSettingsOpened,o=e.projectId,a=Object(c.useRef)(null);pe(a,n,t);var s=["left-panel",t?"panel-opened":"",r?"no-scroll":""].join(" ");return Object(i.jsxs)("div",{ref:a,className:s,onClick:function(e){"false"===e.target.getAttribute("contenteditable")&&n()},children:[Object(i.jsxs)("div",{className:"app-version",children:["v","0.2.1"]}),Object(i.jsx)(l,{isDisplayed:r}),Object(i.jsx)("div",{className:"top-panel",children:Object(i.jsx)("div",{className:"row-btns",children:Object(i.jsx)(xe.a,{onClick:n,className:"common-btn close-menu-btn",title:"hide projects list"})})}),Object(i.jsx)(Re,{rootId:E,hasTitle:!0,isEditable:!1,projectId:o})]})},_e=(n(230),function(){var e=fe("banner"),t=Object(u.a)(e,2),n=t[0],r=t[1];if(Object(c.useEffect)((function(){n&&n.delay&&n.delay>0&&setTimeout((function(){return r(null)}),1e3*n.delay)}),[n,r]),!n)return null;var o=n.text,a=n.type;return Object(i.jsxs)("div",{className:"banner banner-".concat(a),children:[Object(i.jsx)("div",{children:o}),Object(i.jsx)(ie.e,{onClick:function(){return r(null)}})]})});!function(e){e.Success="success",e.Warning="warning",e.Failure="failure"}(he||(he={}));var ze,Be=function e(t){Object(N.a)(this,e),this.text=void 0,this.type=void 0,this.text=t,this.type=he.Failure},Ue=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;Object(N.a)(this,e),this.text=void 0,this.type=void 0,this.delay=void 0,this.text=t,this.type=he.Success,this.delay=n},Je=function(e){var t=e.action,n=e.classNames,r=void 0===n?[]:n,c=e.title,o=void 0===c?"":c;return Object(i.jsx)(ie.h,{className:"common-btn ".concat(r.join(" ")),onClick:function(e){e.stopPropagation(),t()},title:o})},We=Object(c.memo)(Je),He=(n(231),function(e){var t=e.children,n=document.getElementById("portal-root"),r=document.createElement("div");return Object(c.useEffect)((function(){return n.appendChild(r),function(){n.removeChild(r)}}),[r,n]),Object(a.createPortal)(t,r)}),Ve=(n(232),function(e){return function(t){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{isDisplayed:!0}),Object(i.jsx)("div",{className:"modal-container",children:Object(i.jsx)("div",{className:"modal-dialog",children:Object(i.jsx)(e,Object(f.a)({},t))})})]})}}),Ge=function(e,t){var n=e.text,r=e.action,c=e.isOutlined,o=void 0!==c&&c,a=e.classNames,s=void 0===a?[]:a,u=["button",o?"outlined-btn":"filled-btn"].concat(Object(me.a)(s)).join(" ");return Object(i.jsx)("button",{className:u,onClick:r,ref:t,children:n})},Ke=Object(c.forwardRef)(Ge),qe=Ve((function(e){var t=e.onConfirm,n=e.onCancel,r=Object(c.useRef)(null);return Object(c.useEffect)((function(){setTimeout((function(){var e;return null===(e=r.current)||void 0===e?void 0:e.focus()}),0)})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{children:"Do you want to overwrite existing data?"}),Object(i.jsxs)("div",{className:"modal-btns",children:[Object(i.jsx)(Ke,{text:"cancel",ref:r,action:n,isOutlined:!0,classNames:["central-btn"]}),Object(i.jsx)(Ke,{text:"ok",action:t})]})]})}));!function(e){e.JSON="json",e.HTML="html"}(ze||(ze={}));var Xe=function(e,t){var n="data:text/".concat(t,";charset=utf-8,").concat(e),r=encodeURI(n),i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download",Ze(t)),i.click()},$e=function(){Xe(Ye(),ze.JSON)},Qe=function(){var e=z(),t=et(e),n="<html><head><style>".concat("body { font-family: sans-serif; font-size: 16px; } ul, li { margin-top: 6px }","</style></head><body>").concat(t,"</body></html>");Xe(n,ze.HTML)},Ye=function(){return JSON.stringify(A(F.getAllTaskIds()),null,2)},Ze=function(e){var t=(new Date).toISOString();return"todolist_export_".concat(t,".").concat(e)},et=function e(t){var n,r=t.isDone?'style="text-decoration: line-through"':"",i="<ul>".concat(null===(n=t.subTasks)||void 0===n?void 0:n.map((function(t){return e(t)})),"</ul>");return"<li ".concat(r,">").concat(t.text+i,"</li>").replace(/>,</g,"><")},tt=function(e){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),r=n[0],o=n[1],a=e.backToTaskList,s=Object(c.useRef)(null),l=ze.JSON,d=function(){var e=Object(G.a)(V.a.mark((function e(){var t,n,r,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,e.prev=1,!(r=null===(n=s.current)||void 0===n?void 0:n.files)){e.next=10;break}return e.next=6,S(r[0]);case 6:i=e.sent,t=JSON.parse(i),f(),o(!1);case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(1),o(!1),ue.banner=new Be("Failed to parse JSON file"),f(),e.abrupt("return");case 18:if(t){e.next=21;break}return ue.banner=new Be("No exported tasks found"),e.abrupt("return");case 21:J(t),a(),je(),ue.banner=new Ue("Data successfully imported",5);case 25:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),f=function(){s.current.value=""};return Object(i.jsxs)("div",{className:"settings-block",children:[Object(i.jsx)("h2",{children:"Import/Export your data"}),Object(i.jsx)(Ke,{text:"export",action:function(){switch(l){case ze.JSON:$e();break;case ze.HTML:Qe();break;default:$e()}}}),Object(i.jsx)("span",{className:"words-between",children:"as"}),Object(i.jsxs)("select",{className:"data-types-select",onChange:function(e){l=e.target.value},children:[Object(i.jsx)("option",{value:ze.JSON,children:ze.JSON.toUpperCase()}),Object(i.jsx)("option",{value:ze.HTML,children:ze.HTML.toUpperCase()})]}),Object(i.jsx)(Ke,{text:"import json",action:function(){s.current.click()},classNames:["import-btn"]}),Object(i.jsx)("input",{className:"input-hidden",type:"file",accept:".json",onChange:function(){return o(!0)},ref:s}),r&&Object(i.jsx)(He,{children:Object(i.jsx)(qe,{onCancel:function(){f(),o(!1)},onConfirm:function(){d()}})})]})},nt=n(69),rt=function(){var e=new te,t=Object(c.useRef)(null),n=function(){var n=Object(G.a)(V.a.mark((function n(){var r;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return ue.showLoading=!0,n.prev=1,n.next=4,e.authorize(null===(r=t.current)||void 0===r?void 0:r.value);case 4:re.init(e),ue.banner=new Ue("Application successfully authorized"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),ue.banner=new Be("Error: "+n.t0.message);case 11:ue.showLoading=!1;case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("h3",{children:["Connect Dropbox",e.isConfigured?Object(i.jsx)("span",{className:"is-authorized already-authorized",title:"Already configured",children:"\u2714"}):Object(i.jsx)("span",{className:"is-authorized not-authorized",title:"Not configured",children:"!"})]}),Object(i.jsxs)("div",{className:"dropbox-flow",children:[Object(i.jsx)(Ke,{text:"get code",action:function(){return window.open(e.authUrl,"_blank")}}),Object(i.jsx)(nt.a,{className:"arrow-right"}),Object(i.jsx)("input",{type:"text",size:48,placeholder:"insert authorizarion code here",ref:t,className:"auth-code"}),Object(i.jsx)(nt.a,{className:"arrow-right"}),Object(i.jsx)(Ke,{text:"authorize",action:n})]})]})};var it=function(){var e=Object(c.useState)(g()),t=Object(u.a)(e,2),n=t[0],r=t[1],o=fe("syncStatus"),a=Object(u.a)(o,2),s=a[0],l=a[1],d=s===ne.InProgress;return Object(i.jsxs)("div",{className:"settings-block",children:[Object(i.jsx)("h2",{children:"Cloud Synchronization"}),Object(i.jsxs)("select",{disabled:d,value:n,onChange:function(e){var t=e.target.value;t===I.Disabled&&l(ne.NotConfigured),r(t),y(t),re.init()},children:[Object(i.jsx)("option",{value:I.Disabled,children:"Disabled"}),Object(i.jsx)("option",{value:I.Dropbox,children:"Dropbox"})]}),function(){switch(n){case I.Dropbox:return Object(i.jsx)(rt,{});default:return null}}()]})},ct=function(e){var t=e.backToTaskList;return Object(i.jsxs)("div",{className:"settings",children:[Object(i.jsx)(tt,{backToTaskList:t}),Object(i.jsx)("div",{className:"divider"}),Object(i.jsx)(it,{})]})},ot=function(e){var t=e.isSettingsOpened,n=e.isSidebarOpened,r=e.openSidebar,c=e.toggleSettings,o=e.projectId;return Object(i.jsxs)("div",{className:"right-panel",children:[Object(i.jsx)(l,{isDisplayed:n}),Object(i.jsx)(_e,{}),Object(i.jsxs)("div",{className:"top-panel",children:[!t&&Object(i.jsx)("div",{className:"row-btns",children:Object(i.jsx)(We,{action:r,classNames:["open-menu-btn"],title:"open projects list"})}),Object(i.jsxs)("div",{className:"row-btns",children:[Object(i.jsx)(ce,{}),t?Object(i.jsx)(xe.a,{className:"common-btn close settings",onClick:c,title:"close settings"}):Object(i.jsx)(we.e,{className:"common-btn ",onClick:c,title:"settings"})]})]}),Object(i.jsx)("div",{className:"right-content",children:t?Object(i.jsx)(ct,{backToTaskList:c}):o&&Object(i.jsx)(Re,{rootId:o,hasTitle:!0})})]})},at=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(!1),a=Object(u.a)(o,2),s=a[0],l=a[1],d=fe("selectedProjectId"),f=Object(u.a)(d,2),b=f[0],j=f[1];be((function(){return j(ae())})),Object(c.useEffect)((function(){re.init()}),[]),O(b);var h=function e(){l(!1),window.removeEventListener("resize",e)};return Object(i.jsxs)("div",{className:"main-container".concat(s?" sidebar-opened":""),children:[Object(i.jsx)(ve,{}),Object(i.jsx)(Ae,{isOpened:s,close:h,isSettingsOpened:n,projectId:b}),Object(i.jsx)(ot,{isSettingsOpened:n,isSidebarOpened:s,toggleSettings:function(){return r(!n)},openSidebar:function(){l(!0),!window.iAmRunningOnMobile&&window.addEventListener("resize",h)},projectId:b})]})};window.iAmRunningOnMobile=function(){if(navigator.maxTouchPoints)return navigator.maxTouchPoints>0;if(navigator.msMaxTouchPoints)return navigator.msMaxTouchPoints>0;var e=window.matchMedia&&matchMedia("(pointer:coarse)");return e&&"(pointer:coarse)"===e.media?!!e.matches:"orientation"in window||(/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(navigator.userAgent)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(navigator.userAgent))}();var st=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{id:"portal-root"}),Object(i.jsx)(at,{})]})},ut=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function lt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(st,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/maybedo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/maybedo","/service-worker.js");ut?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):lt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):lt(t,e)}))}}()},67:function(e,t,n){}},[[233,1,2]]]);
//# sourceMappingURL=main.9db0e5f1.chunk.js.map